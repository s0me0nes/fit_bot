<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>GrowFood - –ú–µ–Ω—é</title>
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .header {
            background: #2d5016;
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.8em;
            font-weight: 600;
            margin: 0;
        }
        
        .header .subtitle {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .categories {
            background: white;
            padding: 15px 20px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .categories::-webkit-scrollbar {
            display: none;
        }
        
        .category-btn {
            padding: 8px 20px;
            background: #f0f0f0;
            border: none;
            border-radius: 20px;
            font-size: 0.9em;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            color: #333;
        }
        
        .category-btn.active {
            background: #4a7c2a;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:active {
            transform: scale(0.98);
        }
        
        .product-image {
            width: 100%;
            height: 140px;
            background: linear-gradient(135deg, #4a7c2a 0%, #6ba83a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3em;
            position: relative;
            overflow: hidden;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-info {
            padding: 12px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-name {
            font-size: 0.95em;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-description {
            font-size: 0.8em;
            color: #666;
            margin-bottom: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex-grow: 1;
        }
        
        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }
        
        .product-price {
            font-size: 1.1em;
            font-weight: 700;
            color: #4a7c2a;
        }
        
        .add-btn {
            background: #4a7c2a;
            color: white;
            border: none;
            border-radius: 8px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2em;
            transition: background 0.2s;
        }
        
        .add-btn:active {
            background: #3a6a1a;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }
        
        .empty-state-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }
        
        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.5em;
            }
        }
        
        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üå± GrowFood</h1>
        <div class="subtitle">–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</div>
    </div>
    
    <div class="categories">
        <button class="category-btn active" data-category="all">–í—Å–µ</button>
        <button class="category-btn" data-category="vegetables">–û–≤–æ—â–∏</button>
        <button class="category-btn" data-category="fruits">–§—Ä—É–∫—Ç—ã</button>
        <button class="category-btn" data-category="greens">–ó–µ–ª–µ–Ω—å</button>
        <button class="category-btn" data-category="berries">–Ø–≥–æ–¥—ã</button>
        <button class="category-btn" data-category="herbs">–¢—Ä–∞–≤—ã</button>
    </div>
    
    <div class="container">
        <div class="products-grid" id="productsGrid">
            <!-- –ü—Ä–æ–¥—É–∫—Ç 1 -->
            <div class="product-card" data-category="vegetables">
                <div class="product-image">ü•ï</div>
                <div class="product-info">
                    <div class="product-name">–ú–æ—Ä–∫–æ–≤—å —Å–≤–µ–∂–∞—è</div>
                    <div class="product-description">–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è –º–æ—Ä–∫–æ–≤—å, –≤—ã—Ä–∞—â–µ–Ω–Ω–∞—è –±–µ–∑ —Ö–∏–º–∏–∏</div>
                    <div class="product-footer">
                        <div class="product-price">150 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 2 -->
            <div class="product-card" data-category="fruits">
                <div class="product-image">üçé</div>
                <div class="product-info">
                    <div class="product-name">–Ø–±–ª–æ–∫–∏ –∫—Ä–∞—Å–Ω—ã–µ</div>
                    <div class="product-description">–°–ª–∞–¥–∫–∏–µ —è–±–ª–æ–∫–∏ –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∞–¥–∞</div>
                    <div class="product-footer">
                        <div class="product-price">200 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 3 -->
            <div class="product-card" data-category="greens">
                <div class="product-image">ü•¨</div>
                <div class="product-info">
                    <div class="product-name">–°–∞–ª–∞—Ç –ª–∏—Å—Ç–æ–≤–æ–π</div>
                    <div class="product-description">–°–≤–µ–∂–∏–π —Å–∞–ª–∞—Ç, —Å—Ä–µ–∑–∞–Ω–Ω—ã–π —Å–µ–≥–æ–¥–Ω—è</div>
                    <div class="product-footer">
                        <div class="product-price">180 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 4 -->
            <div class="product-card" data-category="vegetables">
                <div class="product-image">üçÖ</div>
                <div class="product-info">
                    <div class="product-name">–ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏</div>
                    <div class="product-description">–°–ª–∞–¥–∫–∏–µ –ø–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏, —Ç–æ–ª—å–∫–æ —Å –≥—Ä—è–¥–∫–∏</div>
                    <div class="product-footer">
                        <div class="product-price">250 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 5 -->
            <div class="product-card" data-category="fruits">
                <div class="product-image">üçì</div>
                <div class="product-info">
                    <div class="product-name">–ö–ª—É–±–Ω–∏–∫–∞</div>
                    <div class="product-description">–°–≤–µ–∂–∞—è –∫–ª—É–±–Ω–∏–∫–∞, —Å–æ–±—Ä–∞–Ω–Ω–∞—è —É—Ç—Ä–æ–º</div>
                    <div class="product-footer">
                        <div class="product-price">350 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 6 -->
            <div class="product-card" data-category="greens">
                <div class="product-image">ü•í</div>
                <div class="product-info">
                    <div class="product-name">–û–≥—É—Ä—Ü—ã</div>
                    <div class="product-description">–•—Ä—É—Å—Ç—è—â–∏–µ –æ–≥—É—Ä—Ü—ã, –≤—ã—Ä–∞—â–µ–Ω–Ω—ã–µ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≥—Ä—É–Ω—Ç–µ</div>
                    <div class="product-footer">
                        <div class="product-price">120 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 7 -->
            <div class="product-card" data-category="herbs">
                <div class="product-image">üåø</div>
                <div class="product-info">
                    <div class="product-name">–ë–∞–∑–∏–ª–∏–∫</div>
                    <div class="product-description">–ê—Ä–æ–º–∞—Ç–Ω—ã–π –±–∞–∑–∏–ª–∏–∫, –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–∞–ª–∞—Ç–æ–≤</div>
                    <div class="product-footer">
                        <div class="product-price">100 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 8 -->
            <div class="product-card" data-category="berries">
                <div class="product-image">ü´ê</div>
                <div class="product-info">
                    <div class="product-name">–ß–µ—Ä–Ω–∏–∫–∞</div>
                    <div class="product-description">–°–≤–µ–∂–∞—è —á–µ—Ä–Ω–∏–∫–∞, –±–æ–≥–∞—Ç–∞—è –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç–∞–º–∏</div>
                    <div class="product-footer">
                        <div class="product-price">400 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 9 -->
            <div class="product-card" data-category="vegetables">
                <div class="product-image">ü•î</div>
                <div class="product-info">
                    <div class="product-name">–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –º–æ–ª–æ–¥–æ–π</div>
                    <div class="product-description">–ú–æ–ª–æ–¥–æ–π –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, —Ç–æ–ª—å–∫–æ –≤—ã–∫–æ–ø–∞–Ω–Ω—ã–π</div>
                    <div class="product-footer">
                        <div class="product-price">80 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–¥—É–∫—Ç 10 -->
            <div class="product-card" data-category="fruits">
                <div class="product-image">üçä</div>
                <div class="product-info">
                    <div class="product-name">–ê–ø–µ–ª—å—Å–∏–Ω—ã</div>
                    <div class="product-description">–°–æ—á–Ω—ã–µ –∞–ø–µ–ª—å—Å–∏–Ω—ã, –ø–æ–ª–Ω—ã–µ –≤–∏—Ç–∞–º–∏–Ω–∞ C</div>
                    <div class="product-footer">
                        <div class="product-price">220 ‚ÇΩ</div>
                        <button class="add-btn">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#2d5016');
        tg.setBackgroundColor('#f5f5f5');
        
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe?.user;
        if (user) {
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user.first_name);
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
        tg.BackButton.show();
        tg.BackButton.onClick(() => {
            tg.close();
        });
        
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
        const categoryButtons = document.querySelectorAll('.category-btn');
        const productCards = document.querySelectorAll('.product-card');
        
        categoryButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                categoryButtons.forEach(b => b.classList.remove('active'));
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ
                this.classList.add('active');
                
                const category = this.getAttribute('data-category');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
                productCards.forEach(card => {
                    if (category === 'all' || card.getAttribute('data-category') === category) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
        document.querySelectorAll('.add-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const card = this.closest('.product-card');
                const name = card.querySelector('.product-name').textContent;
                const price = card.querySelector('.product-price').textContent;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                this.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                tg.showAlert(`${name} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É –∑–∞ ${price}`);
                
                // –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç
                // tg.sendData(JSON.stringify({action: 'add', name: name, price: price}));
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
        productCards.forEach(card => {
            card.addEventListener('click', function() {
                const name = this.querySelector('.product-name').textContent;
                const price = this.querySelector('.product-price').textContent;
                const description = this.querySelector('.product-description').textContent;
                
                tg.showAlert(`${name}\n${description}\n\n–¶–µ–Ω–∞: ${price}`);
            });
        });
    </script>
</body>
</html>
